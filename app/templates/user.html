{% extends 'base.html' %}

{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/user.css') }}">
{% endblock %}

{% block content %}
<div class="profile-container">
  <aside class="sidebar">
    <img src="{{ pic_url }}" alt="User's Avatar" class="avatar">
    <div class="username-container">
      <h1 class="username" id="display-name">{{ name }}</h1>
      <img src="../static/img/edit-pencil.png" alt="Edit" class="edit-icon" id="edit-name"
        onclick="editUsername('{{current_user.username}}')">
    </div>
  </aside>

  <section class="content">
    <div class="user-info">
      <h2>About Me</h2>
      <img src="../static/img/edit-pencil.png" alt="Edit" class="edit-icon"
        onclick="editAboutMe('{{current_user.username}}')">
    </div>

    <div id="about-me">
      <div id="about-me-text">
        {% if about_me == "" %}
        It's so empty here...
        {% else %}
        {{about_me}}
        {% endif %}
      </div>
    </div>
  </section>
</div>

<div class="recipes-header">
  <div class="my-recipe">
    <h1>My Recipes</h1>
  </div>
  <button=btn class="recipe-btn" onclick="location.href ='/u/{{ current_user.username }}/new-recipe';">
    New Recipe
  </button=btn>
</div>

<section class="recipes-list">
  {% for recipe in current_user.recipes %}
  <div class="recipe" onclick="location.href ='/u/{{ current_user.username }}/{{ recipe.id }}';">
    <div>
      <h2>{{ recipe.title }}</h2>
      <p>{{ recipe.description or 'No description provided.' }}</p>
    </div>
    <div style="padding-right: 20px;">
      <img src="../../static/img/red-x.png" alt="remove" class="remove-icon" id="remove-icon"
        onclick="confirmDelete('{{ current_user.username }}', '{{ recipe.id }}')">
    </div>
  </div>
  {% else %}
  <p class="no-recipes">No current recipes.</p>
  {% endfor %}
</section>

<script src="{{ url_for('static', filename='script/user.js') }}"></script>
{% endblock %}
{% extends 'base.html' %}

{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/user.css') }}">
{% endblock %}

{% block content %}
<div class="profile-container">
  <aside class="sidebar">
    <img src="{{ pic_url }}" alt="User's Avatar" class="avatar">
    <div class="username-container">
      <h1 class="username" id="display-name">{{ name }}</h1>
      <img src="../static/img/edit-pencil.png" alt="Edit" class="edit-icon" id="edit-name" onclick="editUsername()">
    </div>
  </aside>

  <section class="content">
    <div class="user-info">
      <h2>About Me</h2>
      <img src="../static/img/edit-pencil.png" alt="Edit" class="edit-icon" onclick="editAboutMe()">
    </div>

    <div id="about-me">
      <div id="about-me-text">
        {% if about_me == "" %}
        It's so empty here...
        {% else %}
        {{about_me}}
        {% endif %}
      </div>
    </div>
  </section>
</div>

<div class="recipes-header">
  <div class="my-recipe">
    <h1>My Recipes</h1>
  </div>
  <button=btn class="recipe-btn" onclick="location.href ='/u/{{ current_user.username }}/new-recipe';">
    New Recipe
  </button=btn>
</div>

<section class="recipes-list">
  {% for recipe in user_recipes %}
  <div class="recipe">
    <h2><a href="{{ url_for('recipe', recipe_id=recipe.id) }}">{{ recipe.title }}</a></h2>
    <p>{{ recipe.summary }}</p>
    <span class="update-info">Updated on {{ recipe.updated_at }}</span>
  </div>
  {% else %}
  <p class="no-recipes">No current recipes.</p>
  {% endfor %}
</section>

<script src="{{ url_for('static', filename='script/edit_user.js') }}"></script>
{% endblock %}